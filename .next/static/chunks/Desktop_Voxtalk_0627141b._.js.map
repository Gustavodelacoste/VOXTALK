{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaue/Desktop/Voxtalk/firebase.js"],"sourcesContent":["// firebase.js\r\nimport { initializeApp, getApps, getApp } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getStorage } from \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBUwmYq74VS6F3j_yWItwZuQC3L07ceZpU\",\r\n  authDomain: \"voxtalk69.firebaseapp.com\",\r\n  projectId: \"voxtalk69\",\r\n  storageBucket: \"voxtalk69.appspot.com\",\r\n  messagingSenderId: \"1043297074595\",\r\n  appId: \"1:1043297074595:web:6a56c7c65e0854ad2a6e16\",\r\n  measurementId: \"G-XQQHW2F4HC\",\r\n};\r\n\r\n// ðŸ”¥ Garante que sÃ³ inicializa UMA VEZ\r\nconst app = !getApps().length ? initializeApp(firebaseConfig) : getApp();\r\n\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\nexport const storage = getStorage(app);\r\n"],"names":[],"mappings":"AAAA,cAAc;;;;;;;;;AACd;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;AAEA,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACjB;AAEA,uCAAuC;AACvC,MAAM,MAAM,CAAC,IAAA,8KAAO,IAAG,MAAM,GAAG,IAAA,oLAAa,EAAC,kBAAkB,IAAA,6KAAM;AAE/D,MAAM,OAAO,IAAA,wKAAO,EAAC;AACrB,MAAM,KAAK,IAAA,kLAAY,EAAC;AACxB,MAAM,UAAU,IAAA,8KAAU,EAAC","debugId":null}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kaue/Desktop/Voxtalk/app/login/page.js"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nimport { auth, db } from \"../../firebase\";\r\nimport { signInWithEmailAndPassword, createUserWithEmailAndPassword, updateProfile } from \"firebase/auth\";\r\nimport { doc, setDoc, getDocs, collection, query, where } from \"firebase/firestore\";\r\n\r\nexport default function Login() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [nametag, setNametag] = useState(\"\");\r\n  const [isRegister, setIsRegister] = useState(false);\r\n\r\n  const handleLogin = async () => {\r\n    try {\r\n      await signInWithEmailAndPassword(auth, email, password);\r\n      window.location.href = \"/chat\";\r\n    } catch (e) {\r\n      alert(e.message);\r\n    }\r\n  };\r\n\r\n  const generateUniqueNametag = async (base) => {\r\n    const usersRef = collection(db, \"users\");\r\n    let tag = base;\r\n    let counter = 1;\r\n    while (true) {\r\n      const q = query(usersRef, where(\"nametag\", \"==\", tag));\r\n      const snapshot = await getDocs(q);\r\n      if (snapshot.empty) break;\r\n      tag = `${base}#${counter}`;\r\n      counter++;\r\n    }\r\n    return tag;\r\n  };\r\n\r\n  const handleRegister = async () => {\r\n    if (!nametag) {\r\n      alert(\"Digite uma nametag\");\r\n      return;\r\n    }\r\n    try {\r\n      const userCredential = await createUserWithEmailAndPassword(auth, email, password);\r\n      const finalNametag = await generateUniqueNametag(nametag);\r\n      await updateProfile(userCredential.user, { displayName: name, photoURL: \"\" });\r\n      await setDoc(doc(db, \"users\", userCredential.user.uid), {\r\n        uid: userCredential.user.uid,\r\n        name,\r\n        email,\r\n        photoURL: \"\",\r\n        nametag: finalNametag\r\n      });\r\n      window.location.href = \"/chat\";\r\n    } catch (e) {\r\n      alert(e.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={containerStyle}>\r\n      {/* ðŸ”¹ Adicione este bloco da logo */}\r\n      <div style={logoStyle}>\r\n        <h3>ðŸ’¬ VoxTalk</h3>\r\n        <br></br><br></br><br></br><br></br><br></br><br></br>\r\n      </div>\r\n\r\n      <h2>{isRegister ? \"Cadastro\" : \"Login\"}</h2>\r\n\r\n      {isRegister && (\r\n        <>\r\n          <input placeholder=\"Nome\" value={name} onChange={e=>setName(e.target.value)} style={inputStyle}/>\r\n          <input placeholder=\"Nametag\" value={nametag} onChange={e=>setNametag(e.target.value)} style={inputStyle}/>\r\n        </>\r\n      )}\r\n\r\n      <input placeholder=\"Email\" value={email} onChange={e=>setEmail(e.target.value)} style={inputStyle}/>\r\n      <input placeholder=\"Senha\" type=\"password\" value={password} onChange={e=>setPassword(e.target.value)} style={inputStyle}/>\r\n\r\n      <button onClick={isRegister ? handleRegister : handleLogin} style={buttonStyle}>\r\n        {isRegister ? \"Registrar\" : \"Entrar\"}\r\n      </button>\r\n\r\n      <p style={{ cursor:\"pointer\", color:\"blue\" }} onClick={()=>setIsRegister(!isRegister)}>\r\n        {isRegister ? \"JÃ¡ tem conta? Login\" : \"NÃ£o tem conta? Registrar\"}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ðŸ”¹ Estilos */\r\nconst containerStyle = {\r\n  display:\"flex\",\r\n  justifyContent:\"center\",\r\n  alignItems:\"center\",\r\n  height:\"100vh\",\r\n  flexDirection:\"column\",\r\n  background:\"#f2f2f2\",\r\n};\r\n\r\nconst logoStyle = {\r\n  textAlign: \"center\",\r\n  marginBottom: \"20px\",\r\n  fontSize: \"1.6em\",\r\n  color: \"#333\",\r\n};\r\n\r\nconst inputStyle = {\r\n  margin:\"5px\",\r\n  padding:\"8px\",\r\n  borderRadius:\"8px\",\r\n  border:\"1px solid #ccc\",\r\n  width:\"250px\"\r\n};\r\n\r\nconst buttonStyle = {\r\n  padding:\"8px 12px\",\r\n  margin:\"5px\",\r\n  borderRadius:\"8px\",\r\n  border:\"none\",\r\n  background:\"#4caf50\",\r\n  color:\"#fff\",\r\n  cursor:\"pointer\"\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}}]
}